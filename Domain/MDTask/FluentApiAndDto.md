# Задание: Создание API для управления данными о хакатонах с использованием внешних ключей, Data Annotations и Fluent API

## Цель:
Изучить использование внешних ключей и связей между таблицами в Entity Framework Core, а также применение Data Annotations, Fluent API и DTO для настройки моделей, валидации и передачи данных между клиентом и сервером.

## Структура данных:

### 1. **Хакатон** (`Hackathons`)
Хранит информацию о мероприятии.
- Поля:
  - `Id` (Primary Key) — уникальный идентификатор хакатона.
  - `Name` — название хакатона.
  - `Date` — дата проведения хакатона.
  - `Theme` — тема хакатона.
  - `Location` — место проведения.
  - `MaxTeams` — максимальное количество команд, которые могут участвовать.
  - `Description` — описание хакатона.

- Связь: Один хакатон может включать несколько команд.

---

### 2. **Команда** (`Teams`)
Хранит информацию о командах, которые участвуют в хакатонах.
- Поля:
  - `Id` (Primary Key) — уникальный идентификатор команды.
  - `Name` — название команды.
  - `HackathonId` (Foreign Key) — внешний ключ, связывающий команду с хакатоном.
  - `CreatedDate` — дата создания команды.
  - `Leader` — имя капитана команды.
  - `TotalMembers` — общее количество участников команды.
  - `Score` — текущий результат команды.
  - `Status` — статус команды (например, "Активна", "Дисквалифицирована").

- Связь: Каждая команда принадлежит одному хакатону и может включать несколько участников.

---

### 3. **Участник** (`Participants`)
Хранит данные об участниках команд.
- Поля:
  - `Id` (Primary Key) — уникальный идентификатор участника.
  - `Name` — имя участника.
  - `Email` — электронная почта участника.
  - `PhoneNumber` — телефонный номер участника.
  - `TeamId` (Foreign Key) — внешний ключ, связывающий участника с командой.
  - `Role` — роль участника в команде (например, разработчик, дизайнер, менеджер).
  - `Skills` — список навыков участника.
  - `ExperienceLevel` — уровень опыта участника (например, "Junior", "Middle", "Senior").
  - `JoinedDate` — дата присоединения к команде.

- Связь: Каждый участник принадлежит одной команде.

---

## Задачи:

### 1. Настроить модели с использованием Data Annotations
- Определить обязательные поля, длину строк, ограничения на числа и форматы данных.
- Настроить связи между таблицами через внешние ключи.

### 2. Настроить Fluent API
- Переопределить конфигурации, заданные через Data Annotations, если это необходимо.
- Настроить отношения "один-ко-многим" для `Hackathons -> Teams` и `Teams -> Participants`.
- Добавить уникальные ограничения и индексы для полей (например, уникальность имени команды).

### 3. Реализовать DTO для работы с API
- **Create DTO**:
  - Включает только те поля, которые необходимы для создания сущности.
- **Update DTO**:
  - Включает только те поля, которые могут быть изменены.
- **Read DTO**:
  - Включает все данные, которые необходимо вернуть клиенту.

### 4. Настроить эндпоинты API
- **POST**: Принимать Create DTO для создания записей.
- **PUT**: Принимать Update DTO для обновления записей.
- **GET**: Возвращать Read DTO для отображения данных клиенту.

---

## Пример работы DTO

### Для хакатонов:
- **Create DTO**:
  - Поля: `Name`, `Date`, `Theme`, `Location`, `MaxTeams`, `Description`.
- **Update DTO**:
  - Поля: `Name`, `Date`, `Theme`, `Location`, `MaxTeams`, `Description`.
- **Read DTO**:
  - Поля: `Id`, `Name`, `Date`, `Theme`, `Location`, `MaxTeams`, `Description`, `Teams` (вложенные данные о командах).

### Для команд:
- **Create DTO**:
  - Поля: `Name`, `HackathonId`, `Leader`, `TotalMembers`.
- **Update DTO**:
  - Поля: `Name`, `Leader`, `TotalMembers`, `Score`, `Status`.
- **Read DTO**:
  - Поля: `Id`, `Name`, `HackathonId`, `Leader`, `TotalMembers`, `Score`, `Status`, `Participants` (вложенные данные об участниках).

### Для участников:
- **Create DTO**:
  - Поля: `Name`, `Email`, `PhoneNumber`, `TeamId`, `Role`, `Skills`, `ExperienceLevel`.
- **Update DTO**:
  - Поля: `Name`, `Email`, `PhoneNumber`, `Role`, `Skills`, `ExperienceLevel`.
- **Read DTO**:
  - Поля: `Id`, `Name`, `Email`, `PhoneNumber`, `Role`, `Skills`, `ExperienceLevel`, `TeamId`.

---

# Список эндпоинтов для проекта "Управление данными о хакатонах"

## **Эндпоинты для хакатонов**

1. **GET /api/hackathons**
   - **Описание**: Получить список всех хакатонов.

2. **GET /api/hackathons/{id}**
   - **Описание**: Получить подробную информацию о конкретном хакатоне, включая список команд.

3. **POST /api/hackathons**
   - **Описание**: Создать новый хакатон.

4. **PUT /api/hackathons/{id}**
   - **Описание**: Обновить данные существующего хакатона.

5. **DELETE /api/hackathons/{id}**
   - **Описание**: Удалить хакатон и связанные команды и участников.

---

## **Эндпоинты для команд**

1. **GET /api/teams**
   - **Описание**: Получить список всех команд.

2. **GET /api/teams/{id}**
   - **Описание**: Получить подробную информацию о конкретной команде, включая список участников.

3. **POST /api/teams**
   - **Описание**: Создать новую команду, привязав её к хакатону.

4. **PUT /api/teams/{id}**
   - **Описание**: Обновить данные существующей команды.

5. **DELETE /api/teams/{id}**
   - **Описание**: Удалить команду и связанных с ней участников.

---

## **Эндпоинты для участников**

1. **GET /api/participants**
   - **Описание**: Получить список всех участников.

2. **GET /api/participants/{id}**
   - **Описание**: Получить подробную информацию о конкретном участнике.

3. **POST /api/participants**
   - **Описание**: Добавить нового участника в команду.

4. **PUT /api/participants/{id}**
   - **Описание**: Обновить данные существующего участника.

5. **DELETE /api/participants/{id}**
   - **Описание**: Удалить участника.


## Результат выполнения:
- Настроенные модели с использованием Data Annotations и Fluent API.
- Корректно реализованные DTO для создания, обновления и получения данных.
- Рабочие эндпоинты API для управления хакатонами, командами и участниками.
- Возможность проверять связь данных через вложенные структуры в Read DTO (например, список участников в команде или список команд в хакатоне).
